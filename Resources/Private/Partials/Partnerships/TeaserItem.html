<html
    lang="en"
    xmlns:core="http://typo3.org/ns/TYPO3/CMS/Core/ViewHelpers"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true"
>
    <f:variable name="partner" value="{partnership.partner}" />
    <div class="ace-item">
        <f:if condition="{partner.media.0}">
            <div class="ace-item__image">
                <f:image
                    image="{partner.media.0}"
                    class="ace-item__image"
                    alt="{partner.media.0.alternative}"
                    title="{partner.media.0.title}"
                />
            </div>
        </f:if>
        <f:if condition="{partner.title}">
            <h3 class="ace-item__title">
                {partner.title}
            </h3>
        </f:if>
        <f:if condition="{partner.attributes}">
            <f:for
                as="categories"
                key="type"
                each="{partner.attributes.allCategoriesByType}"
            >
                <f:if condition="{categories -> f:count()} > 0">
                    <p>
                        <strong>
                            <core:icon identifier="category_types.partners.{type}"/>
                            {f:translate(
                                key: 'sys_category.academic_partners.{type}',
                                extensionName: 'academic_partners'
                            )}:
                        </strong>
                        <f:for each="{categories}" as="category" iteration="categoryIterator">
                            {category.title}{f:if(condition: '{categoryIterator.isLast} == false', then: ',')}
                        </f:for>
                    </p>
                </f:if>
            </f:for>
        </f:if>
        <f:link.page pageUid="{partner.uid}" class="ace-item__button">
            <button>
                Details
            </button>
        </f:link.page>
        <hr />
    </div>
</html>
